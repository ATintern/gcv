'use strict';var Alignment=Alignment||{};Alignment.smithWaterman=function(){};Alignment.repeat=function(){};Alignment.merge=function(data,selected,alignments){var n=data.groups.length,length=data.groups[0].genes.length;for(var k=0;k<alignments.length;k++){var queryCount=0,preQuery=0,insertionCount=0,alignment=alignments[k],index=n+k;data.groups.push(selected[k]);data.groups[index].genes=[];for(var i=0;i<alignment[0].length;i++){if(alignment[0][i]==null&&queryCount==0){preQuery++}else if(alignment[0][i]==null){if(queryCount>=length){alignment[1][i].x=queryCount++;alignment[1][i].y=k+1;data.groups[index].genes.push(alignment[1][i])}else{insertionCount++}}else if(alignment[1][i]==null){queryCount++}else{if(preQuery>0){for(var j=0;j<preQuery;j++){alignment[1][j].x=-1*(preQuery-(j+1));alignment[1][j].y=k+1;data.groups[index].genes.push(alignment[1][j])}preQuery=0}else if(insertionCount>0){var step=1/(insertionCount+1);for(var j=i-insertionCount;j<i;j++){if(alignment[1][j]!=null){alignment[1][j].x=queryCount+step*(i-j)-1;alignment[1][j].y=k+1;data.groups[index].genes.push(alignment[1][j])}}insertionCount=0}alignment[1][i].x=queryCount++;alignment[1][i].y=k+1;data.groups[index].genes.push(alignment[1][i])}}}};

